########################################################
User Manual
########################################################
.. contents::
    :depth: 4

.. _website: https://upstage.org.nz


.. _user-manual_getting_started:

Getting Started
*******************************************************

You do not need to install anything to create and present live performances on UpStage (unless you wish to set up your own server, in which case, see Installation Manuals). Simply navigate to https://app1.upstage.org.nz/V4.0/ui/ with a standard browser such as Mozilla Firefox or Google Chrome. 

You will arrive at the Foyer: this is the home page for this UpStage instance. 
 :ref:`login screen<login>`.

- At the top of the page, you will find the :ref:`header <header>`.  
- The :ref:`header <header>` is divided into three distinct sections.
- The leftmost section of the :ref:`header <header>` contains the UpStage logo.  Clicking this logo will take you to the UpStage Project `website`_. 
- In the center :ref:`header <header>` section you will find links to various sections of the UpStage `website`_ that provide information such as our history and values as well as how to get involved in the project. NOTE: THIS NEEDS TO CHANGE, SEE https://github.com/upstage-org/mobilise/issues/325
- Finally, the rightmost section of the :ref:`header <header>` provides links to both the :ref:`login <login>` and :ref:`registration <registration>` screens.

Players
*******************************************************

.. _registration:

Registration
-------------------------------------------------------
The registration screen enables you to register a user account. You do not need to register to attend a performance as audience, only if you wish to create and participate in performances as a :ref:`Player <player>`.

The *Registration* screen can be accessed via a button located in the rightmost section of the :ref:`header <header>`.

.. image:: /register_box2.png
    :alt: Registration Screen

Enter a username, password, your name and email address.

Your username will be visible to other players and audience on live Stages.

.. note::
    Your email address is used by administrators to contact you about upcoming changes, scheduled maintenance, etc.  It is also used in the event that you find yourself locked out of your account.
    It is never used for solicitation, nor shared with anyone outside of the administration team.

Read and check the agreement with our Terms of Service. You *must agree* to these terms in order to use our service.

.. _login:

Logging In
-------------------------------------------------------
You are not required to log in in order to participate as an audience member. 
If however, you wish to participate as a *player* you will need to log in with your registered account (see: `registration`_).

You can log in with your credentials using the log in box which is accessible via the *Login* button in the rightmost section of the :ref:`header <header>`.

.. image:: /login-01.png
    :alt: Login Screen


.. _backstage: 

Backstage
-------------------------------------------------------
Backstage is where all the preparation for your cyberformance happens. Here you can create, view and manage your stages and media, and manage your profile. If you have admin permissions you can also manage others' profiles, stages and media. 

Stages
-------------------------------------------------------
By default, you will see only the stages you have created. To view the stages of others, toggle the green switch at the top left. The stage list displays the number, name, and owner of each stage, followed by the access that you have to each stage. To the right of that, you will find the buttons “detail”, “manage” and “enter”.

**Detail**
The detail button displays more information about the stage when clicked, such as the assigned players and media files in a pop-up menu. This menu also contains options to manage, duplicate, and delete the stage at the bottom.

If you press the “manage" button, you will come to the stage management page. 

**Manage**
When you click the “manage” button, you will come to the stage management page.

**Enter**
When you click the “enter” button, you will enter the stage live.

.. image:: /backstage-list.png
    :alt: Basckstage

.. _profile:

Your Profile
-------------------------------------------------------
To update the information you entered when registering for UpStage, such as changing your email address or changing your password, go to the Profile page. You will see the name, username, mail and password you entered. 
To modify any information, write directly in the fields then click "update information".

.. image:: /change-profile02.png
    :alt: Your profile

.. _change-password:

Changing Your Password
-------------------------------------------------------
To change your password, go to the Profile page. In the left-hand menu, click "Change password".
You will need to enter your old password, and the new password twice. Click the "Change Password" button below the form to confirm.

.. image:: /change-profile02.png
    :alt: Your profile

Stages
*******************************************************

.. _create-stage:

Creating a Stage
-------------------------------------------------------
Once you have logged in, click on "Stages" in the top menu. Here you can create and manage stages. You will see the list of stages, by default displaying your stages. 

Click “New +” to create a stage. You must give the stage a name (both the full version and a short version for the URL). 

You can add a description, which will be visible to the audience while they are loading the stage (NOTE: WILL THIS ALSO SHOW UP ON THE FOYER PAGE WHEN THE STAGE IS LISTED AS PUBLIC?). 

Designate the access that other players have on your stage. By default they are audience, which means they can't operate anything on your stage. You can give them "player access", which means they have access to the on-stage tools and can be part of the performance, or "player and edit access" which means they can also edit the stage - add media and make other changes in the stage management interface. 

Lastly, set the stage to either live, upcoming, or rehearsal. (NOTE: NEED TO ADD HERE WHAT THE DIFFERENT SETTINGS MEAN. sHOULD A NEW STAGE BE REHEARSAL AS DEFAULT?)

Then press the "Create Stage" button.

.. image:: /backstage-stage-creation.png
    :alt: Creating a new stage

You will now be in the stage management interface for your stage. New options appear in the left-hand menu: Layout, Media, Chat, Records and Scenes.

In the Layout section, you can choose the ratio of the stage (4/3, 16/9 or custom ratio).
The other sections will be empty when it is a new stage.

.. _modify-stage:

Modifying a Stage
-------------------------------------------------------
One you have created a Stage you can: modify the general information and layout; assign media to the stage; and access and manage chat logs and recordings. You can access the stage management interface by finding your stage in the Stages list and clicking on the manage stage icon.

The left-hand menu of the stage management interface has links to:

General Information: change the stage name and url, the description, player access and the status of the stage.
Layout: change the ratio of the stage.
Media: assign or remove media. 
Chat: access the chat text from previous sessions on the stage.
Records and Scenes section are in development.

.. _delete-stage:

Deleting a Stage
-------------------------------------------------------
Currently it is not possible yet to delete a stage; this feature is still in development.

.. _duplicate-stage:

Duplicating a Stage
-------------------------------------------------------
Duplicating Stage could be useful if you want to make a similar stage but with minor changes. It's quicker to begin with an existing stage than from scratch.

From the Stages list, find the stage you want to duplicate and click the yellow "duplicate" icon under "Manage Stage". Give the new stage a new name and click "Save Stage".

You can then modify all of the information for the new stage.

.. _find-stage:

Finding a Stage
-------------------------------------------------------
Click "Stages" in the top menu, and you will see a list of the stages that you have created. (NOTE: "MY STAGES" SHOULD INCLUDE STAGES THAT YOU HAVE PLAYER ACCESS TO, AS WELL AS THOSE YOU HAVE CREATED)

You can also use the search tool to search for a specific stage by name. 

..note::
    click on the green toogle button to see all stages and not only yours. 


Media
*******************************************************
You can upload digital media including images, audio and video. These media items can then be assigned to your stage and used by you and the other players to create and present your cyberformance.

Media files can be manipulated on the Stage as:
* avatars
* props 
* backdrops 
* music or sound effects  

Media files must be first uploaded to the server and then assigned to your stage. A media file can be assigned to multiple stages. When you remove, or unassign, media from a stage, this does not delete it from the server.

Allowed file formats:
* images: .png, .jpg, .gif, .svg
* sound: .wav, .mpeg, .mp4, .aac, .aacp, .orgg, .webm, .flac
* video: .mp4
(NOTE: WHAT ABOUT .m4a?)

Note: there is a limit of 1MB per media item, apart from video which can be up to 300MB. An admin can override this limit. This limit is to encourage you to optimise your file sizes as much as possible, in order to minimise stage loading time and optimise performance on the live stage.  

.. _create-media:

Creating Media
-------------------------------------------------------
To upload a media file, navigate to  Media (top menu) and and click "New +", located upper left. Give the media item a meaningful name, select the type (Avatar, Backdrop, Prop, Audio or Stream) and upload the file from your computer. Click save. You will see it in the media list. 

.. _assign-media:
Assign Media 
---------------------------------------------------------
When you create a new Stage, it has no media on it; you need assign media to a Stage, then it will appear in the on-stage tools and you can manipulate it in a performance. 

There are two ways to assign media to a Stage: during upload, or from the Stage management interface.

During the media upload process, you can (NEED TO SEE NEW INTERFACE TO COMPLETE THIS)

To assign media that has already been uploaded, first go to the Stages list and find the stage you want to assign media to, then click on the Stage management icon. In the left-hand menu, select "Media" and then below it the type of media that you want to assign to the stage. From the "Available Media" list, click on each of the media items that you want to assign to the stage. You will see them appear in the "Selected Media" list. Hit "Save" to save the changes. You can then enter the stage using the "Enter" button at top left to see your media items on the stage.

To unassign media, so that it no longer appears on this stage, just click on the media icon in the "Selected Media" column and it will move back to the "Available Media" column. Again, remember to save. Unassigning media from a stage does not delete it from the server, only from that stage.

.. _modify-media:

Modifying Media
-------------------------------------------------------
To modify a media item that has been uploaded to UpStage, first go to the Media list and find the item you want to modify. Then at the far right under the column "Manage Media", click on the pencil icon. This brings you to the Media management interface. Here you can do the following:

* change the name of the media item by typing a new name in the name field
* change the file type by selecting a new one
* for avatars, select and adjust the voice
* create a multiframe avatar or prop

Rember to hit Save otherwise your changes will not take effect.

Multiframe avatars and props are a series of images contained in one media item. This allows simple frame animation on stage. You must first create the frames as upload them as separate media items, then edit one of them to be the multiframe avatar or prop. Go to the "Multiframe" tab and turn on the toggle to see the available frames. In the left-hand column, click on the thumbnail image of each frame that you want, and it will appear in the right-hand column. Click on a frame in the right hand column to remove it. Give the new multiframe avatar a name that you will recognise as being the multiframe one, and click Save. You can still use all of the frames as individual props or avatars as well if you wish.

.. _delete-media:

Deleting Media
-------------------------------------------------------
Deleting a media item removes it completely from the UpStage server. If you just want to remove a media item from a stage that it's assigned to, you can do this from the Stage management interface for that stage.

To delete a media item from the UpStage server, go to the Media list and find the item you want to delete. At the far right in the "Manage Media" column, click on the red trash icon. You will be prompted to say yes or no to deleteing the item. If you say yes, it will be removed from the server and no longer available on any stages or anywhere in the system. You will need to reupload the file if you have deleted it by mistake. 

On-Stage Tools
*******************************************************
Once you have created a stage, uploaded media and assigned it to your stage, you will want to start creating your performance. When you are logged in and have player access to a stage (either you created it, or the stage owner gave you access), you will see tools on the live stage that are not visible to the audience. These tools allow you to manipulate the media assigned to the stage, in real time, to present your performance to the audience.

Navigate to the Stages list and find your stage. Click enter at the right-hand end of the information for your stage. The stage will load, and you will see a message asking you to click anywhere to finish the loading and enter the stage. Once in the stage, you will see a chat window on the right, and on the left a tool bar.

The left-hand tool bar gives you access to the following tools: Backdrops, Avatars, Props, Audio, Streams, Draw, Text, Settings and Scenes. Here you will find the media you have assigned to this stage as well as tools for real-time features.

.. _backdrops:

Backdrops
-------------------------------------------------------
Backdrops are images that can be displayed behind the rest of the media on the stage, providing a visual background or scenery. The image will fill the background area of the stage. Note that audience members may have different sized browser windows, so they may have space at the sides of the backdrop. You can change the background colour of the stage in the Settings tool, to match it to your backdrops.

Place a Backdrop
================
Click on the Backdrop tool in the left-hand toolbar, and an overlay will appear on the top of the Stage. Thumbnails of all the Backdrops assigned to this Stage are displayed. Click on the one you want and it appear on the Stage.

Change or Remove a Backdrop
=================
Click on the Backdrop tool, and the overlay appears on the top of the Stage. Click on another Backdrop thumbnail and it will replace the backdrop previously shown. Click on the *Clear button*. The backdrop is removed from the Stage. 

.. _avatars:

Avatars
-------------------------------------------------------
An avatar is an image that can appear on the Stage as a character or digital puppet. It can be moved, rotated, scaled in size, and faded in and out. Avatars can speak with a computerised voice and in speech bubbles as well as in the chat window. You can "hold" an avatar by placing it on the stage, or by double-clicking on an avatar already on the stage, that is not held by another player. When you are holding an avatar, only you can operate that avatar.

.. _avatars-selecting:

Place avatar on Stage
=======================================================
From the left-hand menu, select the Avatar tool, and an overlay will appear at the top of the Stage showing thumbnails of the avatars assigned to this Stage. Drag and drop an avatar to the Stage; it will appear there.

Holding an Avatar
=======================================================
To "hold" an avatar means that you are controlling that avatar, and no other player can operate it unless you release it. If you have placed an avatar on the stage by dragging it from the Avatar tool overlay, you will be holding it by default. To hold an avatar that is already on the stage, double-click on it.

A red "carrot" or pointer above the avatar indicates that you are holding it; a gray "carrot" shows over avatars held by other players. The audience don't see the carrots.

You need to hold an avatar to be able to operate it, including make it speak, move it, resize it, bring it in front of or behind other media on the stage, rotate it, as well as change its opacity, speed and animation. And of course, you can also remove it from the stage. 

When you click on the avatar that you are holding, a frame, icons and a slider appear around the avatar. You can also right-click on the avatar for an additional menu. Read on to discover what these tools allow you to do.

.. _avatars-movement:

Movement
=======================================================
To move an avatar to another area of the stage, drag and drop it to the new location. 

To adjust the speed at which the avatar moves, right-click on the avatar and select the slider option "Movement". This changes the slider function, and you will see it is now pink. Move the slider handle up to make the avatar move faster, or down to make it move slower.

..note::
    The audience see the avatar in his new location. If you want them see the travel, hit the bulb icon to light up. (I DON'T QUITE GET THIS: IF I HAVE SET THE MOVEMENT SPEED TO BE SLOW, I DRAG & DROP THEN WATCH THE AVATAR MOVE THERE. IT HAPPENS MORE OR LESS THE SAME WHETHER THE BULB IS WHITE OR GREEN ... )

.. _avatars-scaling:

Resizing
=======================================================
When you click on the avatar you are holding, a green box with with handles appears around the avatar. Drag the handles to resize the avatar; the original proportions will be maintained. Adjust the movement speed of the resizing using the pink slider.

..note::
    The audience see the avatar in his new size. If you want them see the change, hit the bulb icon to light up. (AGAIN - SEEMS TO HAPPEN THE SAME REGARDLESS OF BULB ... )

.. _avatars-rotation:

Rotating
=======================================================
Click on the avatar you are holding to see the green frame; at the top is a handle with a small white cirlce. Click and hold on this handle, and drag it to rotate the avatar.

..note::
    The audience see the avatar in his new size. If you want them see the change, hit the bulb icon to light up. 

Change opacity
=======================================================
By default the avatar will appear with full opacity. Click on the avatar you are holding to see the green frame. The green slider on the left allows you to decrease or increase the opacity.

..note::
    The audience see the avatar in his new opacit. If you want them see the change, hit the bulb icon to light up. 

Bring to front or Send to back
=======================================================
As media is placed on the stage, it will appear in front of other media that is already there (CHECK - IS THAT CORRECT?). To bring your avatar in front of other media, the *right click* on it to display the *context menu* and select "Bring to front". To move your avatar behind another avatar or prop, select "Send to back".

Avatar speech and voice
=======================================================
When you are holding an avatar, you can make it speak by typing in the chat window input field. The text will appear in the chat window and as a speech bubble above the avatar. If you have given your avatar a voice, the text will also be spoken aloud in a computerised voice.

You can customise your avatar's voice from the Media edit interface (see the Media section), or directly on the stage. On stage, right click on the avatar you are holding and in the context menu select "Voice setting". Here you can adjust the pitch, rate and volume of the voice, as well as its accent and variant. You can test the voice before saving it. 

Change the avatar name
=======================================================
When you are holding an avatar and type text into the chat input field to speak as that avatar, its name will appear in the chat window alongside the text. To change the nickname, *right click* on the avatar and in the context menu select "Change your nickname". A pop-up window appears where you can enter a new name. Press "Save" to confirm.

Multiframe avatar animation
=======================================================
If your avatar has several frames (a multiframe avatar), you can display one frame at a time or cycle through them as an animation. 

Use *right click* to open the context menu. You will see the avatar's frames as small thumbnails at the bottom of the context menu. Click on a frame to display it as the avatar, or hit the "play" button to run the animation. 

You can change the speed of the animation with the slider: in the context menu, select the "Animation" slider option. The slider becomes yellow. Move the handle up to make the frames animate faster, or down to slow the animation down.

Remove
=======================================================
You can remove the avatar you are holding from the stage in three ways: in the right-click context menu, select "Delete"; hit the X button on the right side of the avatar's frame; or hit the delete key on your keyboard.

Note that removing the avatar from the stage does not unassign it from the stage: it is still available in the Avatar toolbar, just not visible on the stage any more. You can place it back on the stage at any time. See the Media management section for information on how to unassign media from a stage, and how to delete media from the server.

.. _audio:

Audio
-------------------------------------------------------
For backgroud music or sound, you choose when the sound is running and when it's stop.

Run an audio
=============
Click on the audio tool. The differents audio appear on an overlay. Click on the one you want to run the sound, it's a play button.

Pause an audio
==============
Re-clicking on the play button of the sound you make it pause. 

.. _props:

Props
-------------------------------------------------------
Props in UpStage are less powerful than avatar, with a propos you can move, resize, rotate, change opacity, velocity of his animation, and changing his level. 

Place a prop
============
Click on the Props tool. An overlay appear on the top of the Stage showing all the props available for the Stage. To place one on the Stage, drag'n'drop from the overlay to the Stage.

Resize
======
One click on it show a box around it. Drag the handle to resize it propally.

..note::
    The audience see the props with his new size. If you want them see the change, hit the bulb icon to light up. 

Bring to front or Send to back
===============================
If you want to change his plan, right click on it to display the context menu and hit bring to front or send to back. Several times if needed.

Change opacity
==============
One click on it show a box around it and on his left a green slider. Drag the handle of the slider to change his opacity. If the slider is not green, then right click to display the context menu and hit the opacity slider.

..note::
    The audience see the props in his new opacity. If you want them see the change, hit the bulb icon to light up. 

Run animated props
=================
If your props contains several frames, *click right* on it and hit the play button.

Slow or speed frame animation
=============================
To change the velocity of the frames animation of your props, *right click* on it to display the context menu and hit the Frame Animation slider. Now you can directly change the speedness frame with the left slider.

Make the props faster or slower
==============================
To change the velocity of the movement of the props, *right click* on it and on the context menu hit the Move Speed slider. Then a pink slider appear on the left of the props to change dynamically his velocity. Cute no ?

Delete props for the Stage
=========================
To take of the props of your stage, *right click* on it and hit the delete button visible on the context menu or the cross icon. The props now is waiting on the overlay.

.._stream:

Stream
----------------------------------------------------------
introduction : 3 kinds of stream: a video file, an url, your webcam. Context explaination, difference between this for player and for audience.
Prerequisite : put available media on management dashboard
limitation : blabla
tips : we advice

Run a video file on stage
=========================
Click on the stream tool. The videos available appear on the overlay. Drag'n'drop the video file on your Stage. This automatically run the video.

Resize the video on the Stage
=============================
Click on it and a box around the video appear. Drag the white handle to resize the video.

Change the opacity of the video
===============================
Click on it and a green slider appear on the left. Move the handle to change the opacity.

Re-run the video
================
Right click to display the context menu and click to run, to allow the video play again.

Change the form of the video
=============================
By default the video file are rectangle. If you want to make it circle, *right click* on it and click on the circle in the bottom of the context menu. We can also put the video into a V or a Dog silhouette (woof).

Delete the video from the stage
===============================
Right click on the video on the Stage and hit the clear button to make it disappear. The video is now gently waiting on the overlay

.._draw:

Draw
-------------------------------------------------------
You can draw directly during the Live, or creat the drawing and make it appear on Stage or drawing in live visible by the audience and other player as well.

Click the Draw tool. An overlay appear on top of the Stage. Hit the + button and the opions appear to let you select the color, the size of the brush. If you are happy with your drawing, hit the save button. If not, erase or cancel it. And retry ! It's funny !

If you tuggle the Live button, then, the audience see you drawing in construction !

Place a drawing on the stage
===================================
Now when you click on the draw tool you see the available drawing. drag'n'drop on the stage to place it.

Resize the drawing
===================
Double click on it to hold it. And drag the white handle around the box to resize your drawing.

Change opacity of the drawing
==============================
Double click on it to display the green slider on the left. Move the slider to change his opacity. If the slider is not green but yellow or pink, *right click* to select the good one on the context menu.

Make the drawing speach
=======================
Holding it and write on the chat. Bubbles on top of the drawing appear to show his thinking...

Change the nickname of the drawing
==================================
It's fun but the drawing have your nickname on the chat ! You can change it right clicking on it to make the context menu appear and choose the option : change nickname.

Bring to front or Send to back
===============================
To adjust the level of your drawing secund the other media already Stage, *right click* on it to display the context menu and choose Bring to front or Send to back. Hit several times if needed.

Rotate the drawing
===================
Click on it and drag the vertical handle to rotation.

..note::
    Hit the bulb icon to light up if you want the audience see the rotation movement. 

Change speedness
================
*Right click* on it and in the context menu select the move speed slider to directly drag the value in Stage.

Delete drawing
==============
Say bye to your beautiful drawing by the delete button on the context menu (right click on the drawing to make it appear or hit the cross icon). Be awar that your drawing still available on the overlay of the draw tool but disappear for ever since your Stage finised.

Make several drawing
====================
Ugh you really an illustrate artist ! Then after click on the tool, hit the big + button on the overaly. It allow you to draw another drawing. Make it better this time please !

.._text:

Text
------------------------------------------------
You want to put words, sentence in Stage. Use the text tool for that purpose. Be aware that the text become image and it no longer editable neither resizable.

Creat a new text
================
Click on the text tool. A white overlay is covering the Stage yo help you in creating the text. The top overlay allow you to choose the font, the size, the color of the font and the style (bold, italic, uderline). In the place of the default text "Write or paste your text here" write or paste your own text (yes, really). Save to keep it or cancel if you want to remade one.

Place the text on the Stage
============================
Automatically the text is placed on the Stage after save it. It's still avaiable on the top overlay. If you want place a duplicate text you can drag'n'drop the text to the good place.

Change opacity
==============
Click on it to display the green slider who can change his opacity by dragging his handle.

..note::
    Hit the bulb icon to light up if you want the audience see the opacity change.

Bring to front or Send to back
==============================
*Right click* on it to show the context menu. This option are available on it.

Rotate your text
================
Are you sure to rotate your text ? It's increase his illisibility ! But ok, click on it and handle the vertical handle to the bad rotation you really want ! And think in the usability of this idea...

..note::
    Hit the bulb icon to light up if you want the audience feel nauseous (yes i do think it's not a good idea neither).
    
Change the speed
================
Right click on it to show the context menu and select Move speed to change the left slider. Now the slider allow you to control his velocity.

Delete text
===========
Text on Stage is not more useful ? Ok right click on it and click on the delete button on the context menu. This take of the text but it still waiting on the overlay. After the stage finished, the text will disappear for ever. At the beguining there is the verb, but at the end there is emptyness.


.._settings:

Settings
----------------------------------------
Some settings in live are quiclu available in this tool. It's allow you to change the color of the background behing the backdrop and manage the chat.

You can hide the chat for audience, but don't worry, players still make an avatar speech by writing in a tiny form.
